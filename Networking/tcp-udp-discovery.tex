\documentclass[11pt]{article}

% Basic packages
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{listings}
\usepackage[breakable,skins,theorems]{tcolorbox}
\usepackage{titlesec}
\usepackage{caption}

% Set page dimensions - keep your 900mm height
\usepackage[paperwidth=210mm,paperheight=900mm,top=1cm,bottom=1cm,left=1cm,right=1cm]{geometry}

% Color definitions
\definecolor{commandcolor}{rgb}{0.8,0.0,0.0}
\definecolor{commentcolor}{rgb}{0.4,0.8,0.4}
\definecolor{sectioncolor}{rgb}{0.0,0.3,0.5}
\definecolor{subsectioncolor}{rgb}{0.0,0.4,0.4}
\definecolor{subsubsectioncolor}{rgb}{0.0,0.5,0.7}
\definecolor{warningcolor}{rgb}{0.9,0.5,0.3}
\definecolor{kalibackground}{rgb}{0.15,0.15,0.15}
\definecolor{kalitext}{rgb}{0.4,0.7,1.0}

% Custom environments
\newenvironment{commandbox}[1][]{
    \begin{tcolorbox}[
        colback=kalibackground,
        colframe=commandcolor,
        fonttitle=\bfseries\color{white},
        title=#1,
        breakable=true
    ]
}{
    \end{tcolorbox}
}

% Code listing settings
\lstset{
    backgroundcolor=\color{kalibackground},
    basicstyle=\footnotesize\ttfamily\color{warningcolor},
    breaklines=true,
    commentstyle=\color{commentcolor},
    keywordstyle=\color{kalitext},
    stringstyle=\color{kalitext}
}

\lstdefinestyle{bash}{
    morecomment=[l][\color{commentcolor}]{\#}
}

% Section formatting
\titleformat{\subsection}
{\color{subsectioncolor}\normalfont\Large\bfseries}
{\color{subsectioncolor}\thesubsection}{1em}{}

\titleformat{\subsubsection}
{\color{subsubsectioncolor}\normalfont\large\bfseries}
{\color{subsubsectioncolor}\thesubsubsection}{1em}{}

% Remove page numbers
\pagestyle{empty}

\begin{document}

\setcounter{section}{2}
\setcounter{subsection}{2}

% Add this to make subsubsection use Roman numerals
\renewcommand{\thesubsubsection}{\thesubsection.\Roman{subsubsection}}

\subsection{TCP/UDP Host Discovery}

\subsubsection{TCP SYN Scan (-PS)}

Nmap will send TCP SYN packets and won't complete the TCP 3-way handshake even if the port is open, as shown in the figure below the terminal's output.

\begin{commandbox}[TCP SYN Scan (-PS)]
\begin{lstlisting}[language=bash, style=bash, basicstyle=\small\ttfamily\color{warningcolor}]
$ sudo nmap -PS -sn 10.10.68.220/24
\end{lstlisting}

\begin{lstlisting}[basicstyle=\small\ttfamily\color{kalitext}]
Starting Nmap 7.92 ( https://nmap.org ) at 2021-09-02 13:45 EEST
Nmap scan report for 10.10.68.52
Host is up (0.10s latency).
Nmap scan report for 10.10.68.121
Host is up (0.16s latency).
Nmap scan report for 10.10.68.125
Host is up (0.089s latency).
Nmap scan report for 10.10.68.134
Host is up (0.13s latency).
Nmap scan report for 10.10.68.220
Host is up (0.11s latency).
Nmap done: 256 IP addresses (5 hosts up) scanned in 17.38 seconds
\end{lstlisting}
\end{commandbox}

\begin{center}
\includegraphics[width=0.7\textwidth]{SYNPack.png}
\captionof{figure}{SYN Packet sent for Host Discovery, the user has root privileges.}
\end{center}

\end{document} 